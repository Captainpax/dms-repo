# -----------------------------------------
# Darkmatter Servers - FiveM Standalone Server - server.cfg
# Fully matching DMS FiveM Egg (CaptainPax build) with ESX Legacy support
# -----------------------------------------

# Endpoints (IP and Port binding)
endpoint_add_tcp "0.0.0.0:{{FIVEM_PORT}}"
endpoint_add_udp "0.0.0.0:{{FIVEM_PORT}}"

# Hostname and Project Info
sv_hostname "{{SERVER_HOSTNAME}}"
sets sv_projectName "{{PROJECT_NAME}}"
sets sv_projectDesc "{{PROJECT_DESCRIPTION}}"

# Player slots
sv_maxclients {{MAX_PLAYERS}}

# Authentication Keys
set sv_licenseKey "{{FIVEM_LICENSE}}"
set steam_webApiKey "{{STEAM_WEBAPIKEY}}"

# RCON
rcon_password "{{RCON_PASSWORD}}"

# txAdmin (optional)
# txAdmin is enabled at startup using panel variables

# Game Build Enforcement (optional)
# Enforced via startup arguments
# set sv_enforceGameBuild {{GAME_BUILD}}

# Enable OneSync
set onesync {{ONESYNC_STATE}}

# Authentication trust settings
sv_authMaxVariance 1
sv_authMinTrust 5

# Uncomment below to restrict unverified clients (optional)
# sv_authTokenCheck true

# -----------------------------------------
# Default Server Resources
# -----------------------------------------

ensure mapmanager
ensure chat
ensure spawnmanager
ensure sessionmanager
ensure fivem
ensure hardcap
ensure rconlog

# ESX Legacy Core Resources (auto-installed with DMS Egg)
ensure es_extended
ensure cron
ensure skinchanger
ensure esx_skin
ensure esx_menu_default
ensure esx_menu_list
ensure esx_menu_dialog

# Example Job Resources (optional)
# ensure esx_policejob
# ensure esx_ambulancejob
# ensure esx_taxijob

# Example Addon Resources (optional)
# ensure esx_addonaccount
# ensure esx_society

# Load additional custom resources below
# ensure my_custom_script

# -----------------------------------------
# END Darkmatter Servers - server.cfg
# -----------------------------------------
